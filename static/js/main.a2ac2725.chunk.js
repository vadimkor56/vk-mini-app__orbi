(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{172:function(e,t,a){e.exports=a(294)},261:function(e,t,a){},284:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);a(173),a(224);var n=a(0),r=a.n(n),c=a(33),l=a.n(c),s=a(21),i=a.n(s),o=a(25),m=a.n(o),u=a(38),d=a(47),h=a(39),p=a(40),g=a(42),f=a(41),v=a(43),E=a(3),_=(a(260),a(110)),b=(a(261),function(e){return e=e.page,r.a.createElement("svg",{width:"38",height:"10",viewBox:"0 0 38 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 9C6.20914 9 8 7.20914 8 5C8 2.79086 6.20914 1 4 1C1.79086 1 0 2.79086 0 5C0 7.20914 1.79086 9 4 9Z",fill:1===e?"#fff":"transparent",stroke:1!==e?"#838897":"none",strokeOpacity:1!==e?"0.590438":"none"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 9C20.7091 9 22.5 7.20914 22.5 5C22.5 2.79086 20.7091 1 18.5 1C16.2909 1 14.5 2.79086 14.5 5C14.5 7.20914 16.2909 9 18.5 9Z",fill:2===e?"#fff":"transparent",stroke:2!==e?"#838897":"none",strokeOpacity:2!==e?"0.590438":"none"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 9C35.2091 9 37 7.20914 37 5C37 2.79086 35.2091 1 33 1C30.7909 1 29 2.79086 29 5C29 7.20914 30.7909 9 33 9Z",fill:3===e?"#fff":"transparent",stroke:3!==e?"#838897":"none",strokeOpacity:3!==e?"0.590438":"none"}))}),w=function(){return r.a.createElement("svg",{width:"42",height:"16",viewBox:"0 0 42 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{filter:"url(#filter0_d)"},r.a.createElement("path",{d:"M37.3536 4.35355C37.5488 4.15829 37.5488 3.84171 37.3536 3.64645L34.1716 0.464466C33.9763 0.269204 33.6597 0.269204 33.4645 0.464466C33.2692 0.659728 33.2692 0.976311 33.4645 1.17157L36.2929 4L33.4645 6.82843C33.2692 7.02369 33.2692 7.34027 33.4645 7.53553C33.6597 7.7308 33.9763 7.7308 34.1716 7.53553L37.3536 4.35355ZM4 4.5H37V3.5H4V4.5Z",fill:"white"})),r.a.createElement("defs",null,r.a.createElement("filter",{id:"filter0_d",x:"0",y:"0.318024",width:"41.5",height:"15.364",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",{dy:"4"}),r.a.createElement("feGaussianBlur",{stdDeviation:"2"}),r.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))},k=function(e){var t=e.id,a=e.go,c=e.fetchedUser,l=Object(n.useState)({mainText:"\u041c\u044b \u0431\u043b\u0430\u0433\u043e\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u043d\u0434 \u043f\u043e \u0431\u043e\u0440\u044c\u0431\u0435 \u0441 \u0438\u043d\u0441\u0443\u043b\u044c\u0442\u043e\u043c.",page:1,buttonTitle:"\u0414\u0430\u043b\u044c\u0448\u0435",dataTo:void 0,onClick:function(){o({mainText:r.a.createElement("div",null,"\u0418\u043d\u0441\u0443\u043b\u044c\u0442 \u043c\u043e\u0436\u0435\u0442 \u043a\u043e\u0441\u043d\u0443\u0442\u044c\u0441\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e.",r.a.createElement("br",null),"450 000 \u0440\u043e\u0441\u0441\u0438\u044f\u043d \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u043b\u0438 \u0438\u043d\u0441\u0443\u043b\u044c\u0442 \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0433\u043e\u0434.",r.a.createElement("br",null),"136 000 - \u0443\u043c\u0435\u0440\u043b\u0438."),page:2,buttonTitle:"\u0414\u0430\u043b\u044c\u0448\u0435",onClick:function(){o({mainText:r.a.createElement("div",null,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043e\u0442\u0432\u0435\u0442\u044c\u0442\u0435 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b, \u0447\u0442\u043e\u0431\u044b \u043c\u044b \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043b\u0438 \u0440\u0438\u0441\u043a \u0438\u043d\u0441\u0443\u043b\u044c\u0442\u0430 \u0434\u043b\u044f \u0412\u0430\u0441.",r.a.createElement("br",null),"\u042d\u0442\u043e \u0437\u0430\u0439\u043c\u0451\u0442 \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u0442\u0440\u0451\u0445 \u043c\u0438\u043d\u0443\u0442."),page:3,buttonTitle:"\u041d\u0430\u0447\u0430\u0442\u044c",onClick:a})}})}}),s=Object(_.a)(l,2),i=s[0],o=s[1];return r.a.createElement(E.g,{id:t},r.a.createElement(E.h,{className:"home__header"},"\u041e\u0420\u0411\u0418"),r.a.createElement(E.b,{className:"home"},r.a.createElement(E.b,{className:"home__header"},r.a.createElement("h1",null,"\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(c?c.first_name:"\u0434\u0440\u0443\u0433","!")),r.a.createElement("h1",null,"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0412\u0430\u0441 \u0432 \u041e\u0420\u0411\u0418")),r.a.createElement(E.b,{className:"home__main"},r.a.createElement("div",null,i.mainText),r.a.createElement("div",null,r.a.createElement(b,{page:i.page}))),r.a.createElement(E.b,{className:"home__control"},r.a.createElement(E.a,{size:"xl",level:"2",onClick:i.onClick,"data-to":"questionnaire",className:"home__control-button"},r.a.createElement("div",{style:{marginBottom:"10px"}},i.buttonTitle),r.a.createElement(w,null)))))},y=a(105),C=a.n(y),N=a(106),x=a.n(N),O=Object(E.j)(),j=function(e){var t=e.onClick,a=e.to;return r.a.createElement(E.c,{onClick:t,"data-to":a},O===E.d?r.a.createElement(C.a,null):r.a.createElement(x.a,null))},q=a(24),S=a.n(q),B=a(109),V=a.n(B),M=a(108),P=a.n(M),L=a(55),U=(a(284),[{id:1,text:"\u0412\u044b \u043a\u0443\u0440\u0438\u043b\u0438  \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0433\u043e\u0434\u0430?",options:[{text:"\u041f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e",value:2},{text:"\u0420\u0435\u0434\u043a\u043e",value:1},{text:"\u041d\u0435\u0442",value:0}],input:null}]),R=15.5,T=function(e){return(.5*e).toFixed(2)},z=[],D=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).calculatePercentage=function(e){var t=e.question,n=e.questionNumber,r=e.option,c=void 0===r?null:r,l=e.value,s=a.state.riskValue,i=a.state.lastChosenOption,o=c?c.value:t.input.getValue(l,n);i.questionNumber===n&&(s-=i.value),s+=o,a.setState({percentage:T(Math.floor(s/R*100)),riskValue:s,lastChosenOption:{questionNumber:n,value:o}})},a.getAnswerObjectForPost=function(e){return console.log(z),{vk_id:e,smoked:z[0].value.value,risk:a.state.riskValue,diff_risk:0}},console.log(e),a.state={questions:U,questionNumber:0,inputValue:"",percentage:0,riskValue:0,lastChosenOption:{questionNumber:-1,value:0},isLoading:!1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.questions,n=void 0===a?[null]:a,c=t.questionNumber,l=void 0===c?0:c,s=t.percentage,i=n[l],o=l!==n.length-1?"\u0414\u0430\u043b\u044c\u0448\u0435":"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c",d=i.id,h="rgb(".concat(s/.51,"%, ").concat(100-s/.51,"%, 65%)");return r.a.createElement(E.g,{id:this.props.id},r.a.createElement(E.h,{left:r.a.createElement(j,{onClick:this.props.go,to:"home"})},"\u0421\u0442\u0430\u0440\u0442"),this.state.isLoading?r.a.createElement(S.a,{className:"loading"},r.a.createElement(S.a,{className:"loading__header"},r.a.createElement("h1",null,"\u041c\u044b \u043f\u043e\u0434\u0433\u043e\u0442\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0412\u0430\u0441")),r.a.createElement(S.a,{className:"loading__main"},r.a.createElement("div",null,"\u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0412\u0430\u0448\u0438\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432 \u0440\u0438\u0441\u043a\u0430 \u043c\u044b \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u043c \u0432\u0430\u043c \u0437\u0430\u0434\u0430\u043d\u0438\u044f, \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043d\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u0430\u043a\u0442\u0438\u043a\u0443 \u0438\u043d\u0441\u0443\u043b\u044c\u0442\u0430."),r.a.createElement(L.BeatLoader,{color:"white"}))):r.a.createElement(S.a,{className:"questionnaire"},r.a.createElement(S.a,{className:"questionnaire__diagram-wrapper"},r.a.createElement(S.a,{className:"questionnaire__diagram",style:{borderColor:h}},"".concat(s,"%"))),r.a.createElement(S.a,{className:"questionnaire__question"},i.text),i.options?r.a.createElement(S.a,{className:"questionnaire__options"},i.options.map(function(t,a){return r.a.createElement(S.a,{className:"questionnaire__option",key:a,onClick:function(a){z[l]={id:d,value:t},e.calculatePercentage({option:t,question:i,questionNumber:l});var n=document.getElementsByClassName("questionnaire__option-active");n.length&&Array.from(n).forEach(function(e){e.classList.remove("questionnaire__option-active")}),a.currentTarget.classList.contains("questionnaire__option-active")||a.currentTarget.classList.add("questionnaire__option-active")}},r.a.createElement("span",{className:"questionnaire__option-text"},t.text))})):r.a.createElement(S.a,{className:"questionnaire__input"},r.a.createElement(P.a,{type:"number",placeholder:i.input.placeholder,value:this.state.inputValue,alignment:"center",onChange:function(t){var a=t.currentTarget.value;z[l]={id:d,value:a},e.calculatePercentage({question:i,questionNumber:l,value:a}),e.setState({inputValue:a})}})),r.a.createElement(S.a,{className:"questionnaire__control"},r.a.createElement(V.a,{size:"xl",level:"2",onClick:function(){var t=Object(u.a)(m.a.mark(function t(a){var r,c,s,i;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(z[l]){t.next=2;break}return t.abrupt("return");case 2:if(e.setState({inputValue:""}),(r=document.getElementsByClassName("questionnaire__option-active")).length&&Array.from(r).forEach(function(e){e.classList.remove("questionnaire__option-active")}),l===n.length-1){t.next=9;break}e.setState({questionNumber:l+1}),t.next=20;break;case 9:return c=e.props.fetchedUser?e.props.fetchedUser.id:Math.floor(1e9*Math.random()),s=e.getAnswerObjectForPost(c),i=Object.keys(s).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(s[e])}).join("&"),e.setState({isLoading:!0}),t.next=15,new Promise(function(e){return setTimeout(e,2500)});case 15:return t.next=17,fetch("https://niksavilov.pythonanywhere.com/api/customers/new/?".concat(i));case 17:return t.next=19,fetch("https://niksavilov.pythonanywhere.com/api/customers/get_main_page/?user_id=".concat(c)).then(function(e){return console.log(e.clone().json()),200!==e.status?Promise.reject():e.clone().json()}).then(function(t){z=[],e.props.go(a,t)});case 19:e.setState({isLoading:!1});case 20:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),"data-to":"main",className:"questionnaire__control-button"},r.a.createElement("div",{style:{marginBottom:"10px"}},o),r.a.createElement(w,null)))))}}]),t}(r.a.Component),F=(a(291),a(111)),A=(a(292),function(e){return r.a.createElement("svg",{width:"8",height:"9",viewBox:"0 0 8 9",fill:"none",className:e.className,xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M4.35355 0.646419C4.15829 0.451157 3.84171 0.451157 3.64645 0.646419L0.464466 3.8284C0.269204 4.02366 0.269204 4.34024 0.464466 4.53551C0.659728 4.73077 0.976311 4.73077 1.17157 4.53551L4 1.70708L6.82843 4.53551C7.02369 4.73077 7.34027 4.73077 7.53553 4.53551C7.7308 4.34024 7.7308 4.02366 7.53553 3.8284L4.35355 0.646419ZM4.5 8.96936V0.999972H3.5V8.96936H4.5Z",fill:"#979797"}))}),I=function(){return r.a.createElement("svg",{height:"56",viewBox:"0 -2 496 496",width:"56",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"m480 476.136719h16v16h-16zm0 0"}),r.a.createElement("path",{d:"m0 476.136719h16v16h-16zm0 0"}),r.a.createElement("path",{d:"m407.40625 366.800781c-8.574219-24.496093-28.972656-42.480469-53.429688-48.480469l-36.855468-126.351562c-8.144532-27.929688-32.648438-48.097656-61.121094-51.328125v-34.863281l125.886719-44.960938-141.886719-60.816406v140.640625c-4.832031.550781-9.558594 1.558594-14.105469 3.046875-13.710937-10.398438-31.957031-14.128906-48.488281-9.617188-11.628906-25.382812-36.980469-41.933593-65.40625-41.933593-39.703125 0-72 32.296875-72 72 0 2.894531.199219 5.773437.542969 8.640625-22.925781 3.597656-40.542969 23.429687-40.542969 47.359375 0 26.472656 21.527344 48 48 48h108.664062l-4.664062 16c-31.792969 0-60.214844 21.320312-69.113281 51.832031l-40.886719 140.167969h-18v16h440v-16h-18.320312zm-151.40625-342.527343 82.113281 35.183593-82.113281 29.328125zm12.808594 378.902343c4.574218 4.96875 10.71875 8.960938 19.144531 8.960938 16.933594 0 24.824219-15.761719 31.152344-28.425781 6.078125-12.175782 10.261719-19.574219 16.839843-19.574219 6.582032 0 10.765626 7.398437 16.855469 19.574219 6.34375 12.664062 14.222657 28.425781 31.175781 28.425781 8.457032 0 14.609376-4.007813 19.199219-8.992188l25.542969 72.992188h-185.4375zm123.496094-31.097656 4.359374 12.464844c-4.695312 8.351562-8.289062 11.59375-12.6875 11.59375-6.585937 0-10.769531-7.402344-16.855468-19.578125-6.335938-12.664063-14.226563-28.421875-31.175782-28.421875-16.945312 0-24.832031 15.757812-31.160156 28.421875-6.082031 12.175781-10.257812 19.578125-16.832031 19.578125-4.386719 0-7.960937-3.226563-12.640625-11.550781l4.375-12.507813c8.367188-23.886719 31-39.941406 56.3125-39.941406s47.945312 16.054687 56.304688 39.941406zm-56.304688-55.941406c-32.105469 0-60.800781 20.359375-71.414062 50.664062l-18.800782 53.726563-24.664062-84.558594c-7.359375-25.234375-28.082032-44.136719-53.007813-49.945312l12.542969-43c4.65625 5.128906 10.832031 9.113281 19.296875 9.113281 16.933594 0 24.824219-15.761719 31.152344-28.425781 6.078125-12.175782 10.261719-19.574219 16.839843-19.574219 6.582032 0 10.765626 7.398437 16.855469 19.574219 6.34375 12.664062 14.222657 28.425781 31.175781 28.425781 8.488282 0 14.679688-4.015625 19.351563-9.152344l21.34375 73.183594c-.222656-.007813-.449219-.03125-.671875-.03125zm-34.238281-119.679688 7.742187 26.542969c-5.183594 9.585938-8.878906 13.136719-13.527344 13.136719-6.585937 0-10.769531-7.402344-16.855468-19.578125-6.335938-12.664063-14.226563-28.421875-31.175782-28.421875-16.945312 0-24.832031 15.757812-31.160156 28.421875-6.082031 12.175781-10.257812 19.578125-16.832031 19.578125-4.632813 0-8.3125-3.535157-13.472656-13.082031l7.757812-26.597657c6.929688-23.746093 29.035157-40.320312 53.761719-40.320312s46.832031 16.574219 53.761719 40.320312zm-253.761719 55.679688c-17.648438 0-32-14.351563-32-32 0-17.648438 14.351562-32 32-32s32 14.351562 32 32h16c0-23.464844-16.9375-43.015625-39.222656-47.160157-.464844-2.914062-.777344-5.863281-.777344-8.839843 0-30.871094 25.128906-56 56-56 24.230469 0 45.609375 15.488281 53.175781 38.527343l2.753907 8.359376 8.0625-3.527344c10.488281-4.59375 22.542968-4.214844 32.761718.425781-14.089844 9.199219-24.960937 23.214844-29.867187 40.046875l-17.558594 60.167969zm104 48c24.726562 0 46.832031 16.574219 53.761719 40.320312l4.628906 15.878907c-4.445313 6.753906-7.628906 7.800781-10.414063 7.800781-6.585937 0-10.769531-7.402344-16.855468-19.578125-6.335938-12.664063-14.226563-28.421875-31.175782-28.421875-16.945312 0-24.832031 15.757812-31.160156 28.421875-6.082031 12.175781-10.257812 19.578125-16.832031 19.578125-2.769531 0-5.9375-1.058594-10.359375-7.753907l4.644531-15.925781c6.929688-23.746093 29.035157-40.320312 53.761719-40.320312zm-63.671875 74.304687c4.128906 3.367188 9.183594 5.695313 15.625 5.695313 16.933594 0 24.824219-15.761719 31.152344-28.425781 6.078125-12.175782 10.261719-19.574219 16.839843-19.574219 6.582032 0 10.765626 7.398437 16.855469 19.574219 6.34375 12.664062 14.222657 28.425781 31.175781 28.425781 6.550782 0 11.65625-2.535157 15.671876-5.785157l21.046874 72.152344-10.375 29.632813h-167.65625zm0 0"}))},W=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).getPercentage=function(){return T(Math.floor(a.props.answers.risk/R*100))},a.getDate=function(){var e=new Date,t=e.getMonth()+1,n=e.getDate(),r=a.getDayOfWeek(e.getDay());return"".concat(r," ").concat(n,".").concat(t)},a.getDayOfWeek=function(e){switch(e){case 0:return"\u0412\u0441";case 1:return"\u041f\u043d";case 2:return"\u0412\u0442";case 3:return"\u0421\u0440";case 4:return"\u0427\u0442";case 5:return"\u041f\u0442";case 6:return"\u0421\u0431"}},a.state={money:0,riskValue:a.props.answers.risk,maxRisk:R,percentage:T(Math.floor(a.props.answers.risk/R*100)),lastDiffRiskValue:a.props.answers.diff_risk,challenges:a.props.answers.current,recommendedChallenges:a.props.answers.recommended},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.getPercentage(),a="rgb(".concat(t/.51,"%, ").concat(100-t/.51,"%, 65%)"),n=this.props,c=n.id,l=(n.answers,n.fetchedUser,n.go,n.setModal);return r.a.createElement(E.g,{id:c},r.a.createElement(E.h,null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),r.a.createElement(E.b,{className:"main-page"},r.a.createElement(E.b,{className:"main-page__header"},r.a.createElement(E.b,{className:"main-page__header-inner"},r.a.createElement(E.b,{className:"main-page__header-money"},"".concat(this.state.money,"\u20bd")),r.a.createElement(E.b,{className:"main-page__diagram-wrapper"},r.a.createElement(E.b,{className:"main-page__diagram",style:{borderColor:a}},"".concat(parseFloat(t).toFixed(1),"%"),r.a.createElement("br",null),r.a.createElement(E.b,{className:"main-page__diagram-dynamic"},r.a.createElement(A,{className:"main-page__diagram-dynamic-icon ".concat(this.state.lastDiffRiskValue<0&&"main-page__diagram-dynamic-icon-rotated")}),"".concat(parseFloat(this.state.lastDiffRiskValue).toFixed(1),"%"))))),r.a.createElement(E.b,{className:"main-page__header-text"},"\u0432\u044b \u043f\u043e\u043c\u043e\u0433\u043b\u0438 \u0441\u043e\u0431\u0440\u0430\u0442\u044c",r.a.createElement("br",null)," \u0432 \u0444\u043e\u043d\u0434 \u041e\u0420\u0411\u0418"),r.a.createElement(E.b,{className:"main-page__challenges"},r.a.createElement(E.b,{className:"main-page__challenges-header"},r.a.createElement(E.b,{className:"main-page__challenges-header-text"},"\u0427\u0435\u043b\u0435\u043d\u0434\u0436\u0438"),r.a.createElement(E.b,{className:"main-page__challenges-header-date"},this.getDate())),r.a.createElement(E.b,{className:"main-page__challenges-main"},Boolean(this.state.challenges&&this.state.challenges.length)?this.state.challenges.map(function(e,t){return r.a.createElement(E.b,{className:"main-page__challenges-challenge",key:t},e.title)}):"\u0423 \u0412\u0430\u0441 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0447\u0435\u043b\u0435\u043d\u0434\u0436\u0435\u0439, \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0445 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0445.")),r.a.createElement(E.b,{className:"main-page__recommended"},r.a.createElement(E.b,{className:"main-page__recommended-header"},r.a.createElement(E.b,{className:"main-page__recommended-header-text"},"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0435")),r.a.createElement(E.b,{className:"main-page__recommended-main"},Boolean(this.state.recommendedChallenges&&this.state.recommendedChallenges.length)?this.state.recommendedChallenges.map(function(t,a){return r.a.createElement(E.b,{className:"main-page__recommended-challenge",key:a,onClick:function(){l(r.a.createElement(E.f,{activeModal:"add-recommended-challenge"},r.a.createElement(E.e,{id:"add-recommended-challenge",onClose:function(){return l(null)},icon:r.a.createElement(I,null),title:t.title,caption:t.description,actions:[{title:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c \u0438 \u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",type:"primary",action:function(){var a=Object(u.a)(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:l(null),e.setState({challenges:[].concat(Object(d.a)(e.state.challenges),[Object(F.a)({},t,{completed:!1})]),recommendedChallenges:e.state.recommendedChallenges.filter(function(e){return e.id!==t.id})}),s.send("VKWebAppShare",{link:"vk.com/app5727453_-49894129"});case 3:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}()}]})))}},r.a.createElement("div",{className:"main-page__recommended-challenge-title"},t.title),r.a.createElement("div",{className:"main-page__recommended-challenge-value"},r.a.createElement("div",null,"-".concat(t.diffRiskValue,"%")),"\u043e\u0442 \u0440\u0438\u0441\u043a\u0430"))}):"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u043c\u044b \u043d\u0435 \u0441\u043c\u043e\u0433\u043b\u0438 \u043f\u043e\u0434\u043e\u0431\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0412\u0430\u0441 \u0447\u0435\u043b\u0435\u043d\u0436\u0434\u0438. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u0430\u0439\u0442\u0438 \u043f\u043e\u0437\u0434\u043d\u0435\u0435")))))}}]),t}(r.a.Component),Z=(a(293),function(e){var t=e.id;return r.a.createElement(E.g,{id:t},r.a.createElement(E.h,null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"),r.a.createElement(E.b,{className:"loading"},r.a.createElement(L.BeatLoader,{color:"white"})))}),K=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(g.a)(this,Object(f.a)(t).call(this,e))).go=function(e){console.log(e),a.setState({activePanel:e.currentTarget.dataset.to})},a.goBack=function(){var e=Object(d.a)(a.state.history);e.pop();var t=e[e.length-1];"main"===t&&i.a.send("VKWebAppDisableSwipeBack",{}),a.setState({history:e,activePanel:t})},a.goForward=function(e){var t=Object(d.a)(a.state.history);t.push(e),"home"===a.state.activePanel&&i.a.send("VKWebAppEnableSwipeBack",{}),a.setState({history:t,activePanel:e})},a.setModal=function(e){a.setState({modal:e})},a.state={activePanel:"loading",fetchedUser:null,history:["home"],answers:null,modal:null,isUserRegistered:!1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;i.a.subscribe(function(){var t=Object(u.a)(m.a.mark(function t(a){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=a.detail.type,t.next="VKWebAppGetUserInfoResult"===t.t0?3:7;break;case 3:return n=a.detail.data,t.next=6,fetch("https://niksavilov.pythonanywhere.com/api/customers/registered/?user_id=".concat(n.id)).then(function(e){return e.clone().json()}).then(function(){var t=Object(u.a)(m.a.mark(function t(a){var r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.is,console.log(r),!r){t.next=7;break}return t.next=5,fetch("https://niksavilov.pythonanywhere.com/api/customers/get_main_page/?user_id=".concat(n.id)).then(function(e){return console.log(e.clone().json()),200!==e.status?Promise.reject():e.clone().json()}).then(function(t){e.setState({fetchedUser:n,activePanel:"main",answers:t})});case 5:t.next=8;break;case 7:e.setState({fetchedUser:n,activePanel:"home"});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 6:case 7:return t.abrupt("break",8);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),i.a.send("VKWebAppGetUserInfo",{})}},{key:"render",value:function(){var e=this;return r.a.createElement(E.i,{onSwipeBack:this.goBack,history:this.state.history,activePanel:this.state.activePanel,modal:this.state.modal},r.a.createElement(k,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go}),r.a.createElement(D,{id:"questionnaire",go:function(t,a){console.log(a),e.setState({answers:a}),e.setState({activePanel:"main"})},fetchedUser:this.state.fetchedUser}),r.a.createElement(W,{go:this.go,answers:this.state.answers,id:"main",setModal:this.setModal}),r.a.createElement(Z,{id:"loading"}))}}]),t}(r.a.Component);i.a.send("VKWebAppInit",{}),l.a.render(r.a.createElement(K,null),document.getElementById("root"))}},[[172,1,2]]]);
//# sourceMappingURL=main.a2ac2725.chunk.js.map